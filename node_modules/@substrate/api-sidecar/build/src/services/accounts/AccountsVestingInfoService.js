"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AccountsVestingInfoService = void 0;
const AbstractService_1 = require("../AbstractService");
class AccountsVestingInfoService extends AbstractService_1.AbstractService {
    /**
     * Fetch vesting information for an account at a given block.
     *
     * @param hash `BlockHash` to make call at
     * @param address address of the account to get the vesting info of
     */
    async fetchAccountVestingInfo(hash, address) {
        const { api } = this;
        const [{ number }, vesting] = await Promise.all([
            api.rpc.chain.getHeader(hash),
            api.query.vesting.vesting.at(hash, address),
        ]);
        const at = {
            hash,
            height: number.toNumber().toString(10),
        };
        return {
            at,
            vesting: vesting.isNone ? {} : vesting.unwrap(),
        };
    }
}
exports.AccountsVestingInfoService = AccountsVestingInfoService;
//# sourceMappingURL=AccountsVestingInfoService.js.map