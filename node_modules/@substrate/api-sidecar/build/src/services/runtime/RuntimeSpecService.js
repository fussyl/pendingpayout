"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.RuntimeSpecService = void 0;
const AbstractService_1 = require("../AbstractService");
class RuntimeSpecService extends AbstractService_1.AbstractService {
    async fetchSpec(hash) {
        const [{ authoringVersion, specName, specVersion, transactionVersion, implVersion, }, chainType, properties, { number },] = await Promise.all([
            this.api.rpc.state.getRuntimeVersion(hash),
            this.api.rpc.system.chainType(),
            this.api.rpc.system.properties(),
            this.api.rpc.chain.getHeader(hash),
        ]);
        return {
            at: {
                height: number.unwrap().toString(10),
                hash,
            },
            authoringVersion,
            transactionVersion,
            implVersion,
            specName,
            specVersion,
            chainType,
            properties,
        };
    }
}
exports.RuntimeSpecService = RuntimeSpecService;
//# sourceMappingURL=RuntimeSpecService.js.map